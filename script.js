gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",function(){const e=new Lenis({lerp:.1,orientation:"vertical",wheelMultiplier:1.2});e.on("scroll",e=>{console.log(e)}),requestAnimationFrame(function t(n){e.raf(n),requestAnimationFrame(t)}),window.addEventListener("load",function(){var e=gsap.timeline(),t=document.querySelector(".page-loader_state");if(t){var n=0,o=function(){t.innerHTML=n,++n<=100?requestAnimationFrame(o):(e.to(".page-loader",{duration:1,y:"-100%",ease:"expo.inOut",delay:.3}),e.add(function(){var e;(e=document.querySelector(".page-loader"))&&(e.style.display="none")}))};requestAnimationFrame(o)}},{once:!0});const t=document.querySelector(".menu"),n=document.querySelector(".header"),o=document.querySelector(".menu-trigger"),i=document.querySelector(".nav-logo-container");let a=!1,r=!1;function s(){a&&!r&&(r=!0,gsap.to(t,{y:"-100%",duration:1,ease:CustomEase.create("custom","M0,0,C0.76,0,0.20,1,1,1"),display:"none",onComplete:()=>{n.style.mixBlendMode="",r=!1}}),gsap.to(".menu-trigger_text",{y:"0%",duration:.4,delay:.3,ease:"power1.inOut"}),a=!1)}function l(){document.querySelectorAll(".menu-link").forEach(e=>{e!==this&&gsap.to(e,{opacity:.3,duration:.3})})}function c(){document.querySelectorAll(".menu-link").forEach(e=>{gsap.to(e,{opacity:1,duration:.3})})}document.querySelectorAll(".menu-link").forEach(e=>{e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",c)}),o.addEventListener("click",()=>{a?s():a||r||(r=!0,n.style.mixBlendMode="normal",gsap.to(".menu-trigger_text",{y:"-100%",duration:.5,delay:0,ease:"power1.inOut"}),gsap.to(t,{y:"0%",duration:1,ease:CustomEase.create("custom","M0,0,C0.76,0,0.20,1,1,1"),display:"flex",onComplete:()=>{r=!1}}),new SplitType(".menu-link_title",{types:"lines, words, chars"}),gsap.from(".menu-link_title .line",{y:"200%",duration:.8,ease:CustomEase.create("custom","M0,0,C0.16,1,0.30,1,1,1"),stagger:.1,delay:.5}),gsap.from(".menu-img",{scale:1.5,duration:1.2,delay:.4,ease:CustomEase.create("custom","M0,0,C0.16,1,0.30,1,1,1")}),new SplitType(".menu-social_link-title",{types:"lines, words, chars",tagName:"span"}),gsap.from(".menu-social_link-title .word",{y:"200%",opacity:1,duration:1,ease:CustomEase.create("custom","M0,0,C0.16,1,0.30,1,1,1"),stagger:.1,delay:.6}),a=!0)}),document.querySelectorAll(".menu a:not(.nav-logo-container a)").forEach(e=>{e.addEventListener("click",s)}),i.addEventListener("click",()=>{a&&s()}),document.querySelectorAll(".menu a").forEach(e=>{e.addEventListener("click",s)}),initLineLeftText(),initRightText(),initLinesText(),initMenuLinkOpacity(),initProjectItem(),initIndexItem(),initProjectPageHero()});let animationPlayed=!1,splitElements=[];function initLineLeftText(){const e=document.querySelectorAll("[line-left]");splitElements=[],e.forEach(e=>{e._splitType&&SplitType.revert(e);const t=new SplitType(e,{types:"lines"});splitElements.push(t),t.lines.forEach((e,t)=>{const n=document.createElement("div");n.style.overflow="hidden",e.parentNode.insertBefore(n,e),n.appendChild(e),gsap.fromTo(e,{y:"300%"},{y:"0%",duration:.8,ease:CustomEase.create("custom","M0,0,C0.16,1,0.30,1,1,1"),delay:.5+.1*t})})})}function initRightText(){document.querySelectorAll("[line-right]").forEach(e=>{gsap.fromTo(e,{y:"100%"},{y:"0%",duration:.8,ease:CustomEase.create("custom","M0,0,C0.16,1,0.30,1,1,1"),delay:.7})})}function initLinesText(){const e=document.querySelectorAll("[lines]");splitElements=[],e.forEach(e=>{e._splitType&&SplitType.revert(e);const t=new SplitType(e,{types:"lines"});splitElements.push(t),t.lines.forEach((e,t)=>{const n=document.createElement("div");n.style.overflow="hidden",e.parentNode.insertBefore(n,e),n.appendChild(e),gsap.fromTo(e,{y:"100%"},{y:"0%",duration:.8,ease:CustomEase.create("custom","M0,0,C0.16,1,0.30,1,1,1"),delay:.1+.06*t,scrollTrigger:{trigger:n,start:"top 150%"}})})})}function updateSplitText(){splitElements.forEach(e=>{e.split()})}function initMenuLinkOpacity(){var e=$(".home-project_item");e.on("mouseenter",function(){var t=e.not(this);gsap.to(t,{filter:"grayscale(100%)",duration:.3,ease:"power1.out"})}),e.on("mouseleave",function(){gsap.to(e,{filter:"grayscale(0%)",duration:.3,ease:"power1.out"})})}function initProjectItem(){document.querySelectorAll(".project_img").forEach(e=>{gsap.from(e,{y:"-29%",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.1,ease:"none"}})})}function initIndexItem(){const e=document.querySelectorAll(".index-item");e.forEach(t=>{const n=t.querySelector(".index-item_img-wrapper"),o=t.querySelector("[index-img]");t.addEventListener("mouseover",()=>{window.innerWidth>992&&(gsap.killTweensOf(o),gsap.killTweensOf(n),gsap.fromTo(o,{scale:1.4},{scale:1,duration:.5,ease:"ease.inOut"}),gsap.fromTo(n,{opacity:0,scale:.8},{opacity:1,scale:1,duration:.5,ease:"ease.inOut"}),e.forEach(e=>{e!==t&&gsap.to(e,{opacity:.3,duration:.2,ease:"ease.inOut"})}))}),t.addEventListener("mouseout",()=>{window.innerWidth>992&&(gsap.killTweensOf(o),gsap.killTweensOf(n),gsap.to(o,{scale:1,duration:.3,ease:"ease.inOut"}),gsap.to(n,{opacity:0,duration:.3,ease:"ease.inOut"}),e.forEach(e=>{e!==t&&gsap.to(e,{opacity:1,duration:.2,ease:"ease.inOut"})}))}),window.addEventListener("resize",()=>{window.innerWidth<=992?(o.style.scale=1,n.style.opacity=1,n.style.transform="scale(1)",e.forEach(e=>{e.style.opacity=1})):(o.style.scale=1,n.style.opacity=0,n.style.transform="scale(0.8)",e.forEach(e=>{e.style.opacity=1})),gsap.killTweensOf(o),gsap.killTweensOf(n)})})}function initProjectPageHero(){const e=document.querySelector(".project-hero_img");gsap.to(e,{duration:1.2,scale:1,delay:.4,ease:CustomEase.create("custom","M0,0,C0.16,1,0.30,1,1,1")}),gsap.to(e,{y:0,scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.1,ease:"none"}}),window.addEventListener("resize",()=>{splitTitle.revert(),splitNum.revert()})}function pageEnterAnimation(){return new Promise(e=>{gsap.timeline({onComplete:e}).set(".page-transition",{display:"block"}).to(".page-transition",{duration:1,y:"0%",ease:CustomEase.create("custom","M0,0,C0.76,0,0.20,1,1,1")}).fromTo(".page-content",{y:"0vh"},{duration:1,y:"-100vh",ease:CustomEase.create("custom","M0,0,C0.76,0,0.20,1,1,1")},"-=1").fromTo(".opacity-transition",{opacity:0,display:"block"},{opacity:.8,duration:1,ease:"linear",display:"none"},"-=1")})}function pageExitAnimation(){return new Promise(e=>{gsap.timeline({onComplete:e}).set(".page-transition",{y:"0%"}).to(".page-transition",{duration:1,y:"-100%",ease:CustomEase.create("custom","M0,0,C0.76,0,0.20,1,1,1")}).fromTo(".page-content",{y:"50vh"},{duration:1,y:"0vh",ease:CustomEase.create("custom","M0,0,C0.76,0,0.20,1,1,1")},"-=1").to(".opacity-transition",{duration:1,opacity:0,ease:"linear"},"-=1").set(".page-transition",{display:"none",y:"100%"})})}function updateCurrentClass(){$(".w-current").removeClass("w--current"),$(".nav a").each(function(){$(this).attr("href")===window.location.pathname&&$(this).addClass("w--current")})}function resetWebflow(e){let t=(new DOMParser).parseFromString(e.next.html,"text/html"),n=$(t).find("html").attr("data-wf-page");if(window.Webflow){$("html").attr("data-wf-page",n),window.Webflow.destroy&&window.Webflow.destroy(),window.Webflow.ready&&window.Webflow.ready();let e=window.Webflow.require("ix2");e&&e.init&&e.init()}}barba.hooks.afterEnter(()=>{animationPlayed||(initLineLeftText(),initRightText(),initLinesText(),animationPlayed=!0)}),window.addEventListener("resize",()=>{updateSplitText()}),barba.init({transitions:[{preventRunning:!0,async leave(e){try{await pageEnterAnimation()}catch(e){}},enter(e){try{updateCurrentClass(),$(e.next.container).addClass("fixed"),resetWebflow(e),gsap.to(e.next.container,{onComplete:()=>{$(e.next.container).removeClass("fixed"),$(window).scrollTop(0),pageExitAnimation(),initLineLeftText(),initRightText(),initLinesText(),initMenuLinkOpacity(),initProjectItem(),initIndexItem(),initProjectPageHero(),e.next.container.querySelectorAll("video").forEach(function(e){e.play()})}})}catch(e){}}}]});